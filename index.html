<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivanta Candidate Manager</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root {
            --primary-color: #0A66C2; /* corporate blue */
            --secondary-color: #084B9A; /* darker blue for hovers */
            --success-color: #198754;
            --warning-color: #FFC107;
            --danger-color: #DC3545;
            --surface-bg: #ffffff;
            --muted-bg: #f5f7fb;
            --border-color: #e9ecef;
        }
        
        body {
            background-color: var(--surface-bg);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .navbar-brand {
            font-weight: bold;
            color: white !important;
        }
        
        .sidebar {
            min-height: 100vh;
            background-color: var(--primary-color);
            box-shadow: 2px 0 10px rgba(0,0,0,0.06);
        }
        
        .sidebar .nav-link {
            color: rgba(255,255,255,0.8);
            padding: 15px 20px;
            border-radius: 8px;
            margin: 5px 15px;
            transition: all 0.3s ease;
        }
        
        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            background-color: rgba(255,255,255,0.2);
            color: white;
            transform: translateX(5px);
        }
        
        .main-content {
            padding: 30px;
        }
        
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background-color: var(--primary-color);
            color: white;
            border-radius: 15px 15px 0 0 !important;
            padding: 16px 20px;
            border: none;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
            box-shadow: 0 3px 10px rgba(10, 102, 194, 0.25);
        }
        
        .table {
            border-radius: 10px;
            overflow: hidden;
        }
        
        .table thead th {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
        }
        
        .table tbody tr:hover {
            background-color: var(--muted-bg);
            transition: background-color 0.2s ease;
        }
        
        .stats-card {
            background: var(--surface-bg);
            color: #0f172a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .login-container {
            min-height: 100vh;
            background-color: var(--muted-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }
        
        .login-card {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 12px 24px rgba(0,0,0,0.08);
            max-width: 400px;
            width: 100%;
        }
        
        .form-control {
            border-radius: 8px;
            border: 2px solid var(--border-color);
            padding: 12px 15px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(10, 102, 194, 0.2);
        }
        
        .analytics-chart {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .badge-role {
            font-size: 0.9em;
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .role-fitter { background-color: #3498db; }
        .role-helper { background-color: #27ae60; }
        .role-supervisor { background-color: #e74c3c; }
        .role-welder { background-color: #f39c12; }
        .role-parking { background-color: #9b59b6; }
        
        /* Navbar */
        .app-navbar {
            background-color: var(--primary-color) !important;
        }

        /* Mobile refinements */
        @media (max-width: 767.98px) {
            .main-content { padding: 20px; }
            .sidebar { min-height: auto; }
            .navbar .navbar-text { display: none; }
            .card { border-radius: 12px; }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="text-center mb-4">
                <h2 class="text-primary">
                    <i class="fas fa-users-cog"></i>
                    Trivanta Candidate Manager
                </h2>
                <p class="text-muted">Please login to continue</p>
            </div>
            
            <form id="loginForm">
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" id="username" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" id="password" class="form-control" required>
                </div>
                <div class="mb-3">
                    <select id="userType" class="form-select">
                        <option value="vendor">Vendor Portal</option>
                        <option value="admin">Admin Portal</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary w-100">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
            
            <div class="mt-4 text-center">
                <small class="text-muted">
                    Demo Credentials:<br>
                    Vendor: vendor1/password | Admin: admin/admin123
                </small>
            </div>
        </div>
    </div>

    <!-- Vendor Portal -->
    <div id="vendorPortal" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark app-navbar">
            <div class="container-fluid">
                <span class="navbar-brand">
                    <i class="fas fa-users-cog"></i> Trivanta - Vendor Portal
                </span>
                <div class="navbar-nav ms-auto">
                    <span class="navbar-text me-3">Welcome, <span id="vendorName"></span></span>
                    <button class="btn btn-outline-light" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3 sidebar">
                    <ul class="nav flex-column pt-4">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showSection('vendorDashboard')">
                                <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('addCandidate')">
                                <i class="fas fa-user-plus me-2"></i> Add Candidate
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('manageCandidates')">
                                <i class="fas fa-users me-2"></i> Manage Candidates
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-9 main-content">
                    <!-- Vendor Dashboard -->
                    <div id="vendorDashboard" class="section fade-in">
                        <h2 class="mb-4">
                            <i class="fas fa-tachometer-alt"></i> Vendor Dashboard
                        </h2>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="stats-card">
                                    <div class="stats-number" id="vendorTotalCandidates">0</div>
                                    <div>Total Candidates</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-card">
                                    <div class="stats-number" id="vendorSelectedCandidates">0</div>
                                    <div>Selected Candidates</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-card">
                                    <div class="stats-number" id="vendorPendingCandidates">0</div>
                                    <div>Pending Interviews</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Candidate -->
                    <div id="addCandidate" class="section hidden">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">
                                    <i class="fas fa-user-plus"></i> Add New Candidate
                                </h4>
                            </div>
                            <div class="card-body">
                                <form id="candidateForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" name="name" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Phone Number</label>
                                            <input type="tel" name="number" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Email</label>
                                            <input type="email" name="email" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Role</label>
                                            <select name="role" class="form-select" required>
                                                <option value="">Select Role</option>
                                                <option value="Fitter">Fitter</option>
                                                <option value="Helper">Helper</option>
                                                <option value="Site Supervisor">Site Supervisor</option>
                                                <option value="Welder">Welder</option>
                                                <option value="Parking Operator">Parking Operator</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Current Salary (₹)</label>
                                            <input type="number" name="currentSalary" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Expected Salary (₹)</label>
                                            <input type="number" name="expectedSalary" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Offered Salary (₹)</label>
                                            <input type="number" name="offeredSalary" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Total Experience (Years)</label>
                                            <input type="number" name="totalExperience" class="form-control" step="0.1" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Relevant Experience (Years)</label>
                                            <input type="number" name="relevantExperience" class="form-control" step="0.1" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Resume Attachment</label>
                                            <input type="file" name="resume" class="form-control" accept=".pdf,.doc,.docx">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Interview</label>
                                            <input type="date" name="interviewDate" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Selection</label>
                                            <input type="date" name="selectionDate" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Joining</label>
                                            <input type="date" name="joiningDate" class="form-control">
                                        </div>
                                    </div>
                                    <div class="text-end">
                                        <button type="reset" class="btn btn-secondary me-2">
                                            <i class="fas fa-times"></i> Reset
                                        </button>
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Add Candidate
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Manage Candidates -->
                    <div id="manageCandidates" class="section hidden">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">
                                    <i class="fas fa-users"></i> Manage Candidates
                                </h4>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Role</th>
                                                <th>Phone</th>
                                                <th>Email</th>
                                                <th>Expected Salary</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="vendorCandidatesTable">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Portal -->
    <div id="adminPortal" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark app-navbar">
            <div class="container-fluid">
                <span class="navbar-brand">
                    <i class="fas fa-users-cog"></i> Trivanta - Admin Portal
                </span>
                <div class="navbar-nav ms-auto">
                    <span class="navbar-text me-3">Welcome, Admin</span>
                    <button class="btn btn-outline-light" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3 sidebar">
                    <ul class="nav flex-column pt-4">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showSection('vendorDashboard')">
                                <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('addCandidate')">
                                <i class="fas fa-user-plus me-2"></i> Add Candidate
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('manageCandidates')">
                                <i class="fas fa-users me-2"></i> Manage Candidates
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-9 main-content">
                    <!-- Vendor Dashboard -->
                    <div id="vendorDashboard" class="section fade-in">
                        <h2 class="mb-4">
                            <i class="fas fa-tachometer-alt"></i> Vendor Dashboard
                        </h2>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="stats-card">
                                    <div class="stats-number" id="vendorTotalCandidates">0</div>
                                    <div>Total Candidates</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-card" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
                                    <div class="stats-number" id="vendorSelectedCandidates">0</div>
                                    <div>Selected Candidates</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-card" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
                                    <div class="stats-number" id="vendorPendingCandidates">0</div>
                                    <div>Pending Interviews</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Candidate -->
                    <div id="addCandidate" class="section hidden">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">
                                    <i class="fas fa-user-plus"></i> Add New Candidate
                                </h4>
                            </div>
                            <div class="card-body">
                                <form id="candidateForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" name="name" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Phone Number</label>
                                            <input type="tel" name="number" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Email</label>
                                            <input type="email" name="email" class="form-control" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Role</label>
                                            <select name="role" class="form-select" required>
                                                <option value="">Select Role</option>
                                                <option value="Fitter">Fitter</option>
                                                <option value="Helper">Helper</option>
                                                <option value="Site Supervisor">Site Supervisor</option>
                                                <option value="Welder">Welder</option>
                                                <option value="Parking Operator">Parking Operator</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Current Salary (₹)</label>
                                            <input type="number" name="currentSalary" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Expected Salary (₹)</label>
                                            <input type="number" name="expectedSalary" class="form-control" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label class="form-label">Offered Salary (₹)</label>
                                            <input type="number" name="offeredSalary" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Total Experience (Years)</label>
                                            <input type="number" name="totalExperience" class="form-control" step="0.1" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Relevant Experience (Years)</label>
                                            <input type="number" name="relevantExperience" class="form-control" step="0.1" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Resume Attachment</label>
                                            <input type="file" name="resume" class="form-control" accept=".pdf,.doc,.docx">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Interview</label>
                                            <input type="date" name="interviewDate" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Selection</label>
                                            <input type="date" name="selectionDate" class="form-control">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date of Joining</label>
                                            <input type="date" name="joiningDate" class="form-control">
                                        </div>
                                    </div>
                                    <div class="text-end">
                                        <button type="reset" class="btn btn-secondary me-2">
                                            <i class="fas fa-times"></i> Reset
                                        </button>
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Add Candidate
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Manage Candidates -->
                    <div id="manageCandidates" class="section hidden">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">
                                    <i class="fas fa-users"></i> Manage Candidates
                                </h4>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Role</th>
                                                <th>Phone</th>
                                                <th>Email</th>
                                                <th>Expected Salary</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="vendorCandidatesTable">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Portal -->
    <div id="adminPortal" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
            <div class="container-fluid">
                <span class="navbar-brand">
                    <i class="fas fa-users-cog"></i> Trivanta - Admin Portal
                </span>
                <div class="navbar-nav ms-auto">
                    <span class="navbar-text me-3">Welcome, Admin</span>
                    <button class="btn btn-outline-light" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3 sidebar">
                    <ul class="nav flex-column pt-4">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showSection('adminDashboard')">
                                <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('allCandidates')">
                                <i class="fas fa-users me-2"></i> All Candidates
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('analytics')">
                                <i class="fas fa-chart-bar me-2"></i> Analytics
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('vendors')">
                                <i class="fas fa-building me-2"></i> Vendors
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-9 main-content">
                    <!-- Admin Dashboard -->
                    <div id="adminDashboard" class="section fade-in">
                        <h2 class="mb-4">
                            <i class="fas fa-tachometer-alt"></i> Admin Dashboard
                        </h2>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <div class="stats-number" id="adminTotalCandidates">0</div>
                                    <div>Total Candidates</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <div class="stats-number" id="adminSelectedCandidates">0</div>
                                    <div>Selected</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <div class="stats-number" id="adminActiveVendors">0</div>
                                    <div>Active Vendors</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <div class="stats-number" id="adminPendingInterviews">0</div>
                                    <div>Pending Interviews</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- All Candidates -->
                    <div id="allCandidates" class="section hidden">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h4 class="mb-0">
                                    <i class="fas fa-users"></i> All Candidates
                                </h4>
                                <div>
                                    <select id="vendorFilter" class="form-select d-inline-block w-auto me-2">
                                        <option value="">All Vendors</option>
                                    </select>
                                    <select id="roleFilter" class="form-select d-inline-block w-auto">
                                        <option value="">All Roles</option>
                                        <option value="Fitter">Fitter</option>
                                        <option value="Helper">Helper</option>
                                        <option value="Site Supervisor">Site Supervisor</option>
                                        <option value="Welder">Welder</option>
                                        <option value="Parking Operator">Parking Operator</option>
                                    </select>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Vendor</th>
                                                <th>Role</th>
                                                <th>Phone</th>
                                                <th>Expected Salary</th>
                                                <th>Experience</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="adminCandidatesTable">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Analytics -->
                    <div id="analytics" class="section hidden">
                        <h2 class="mb-4">
                            <i class="fas fa-chart-bar"></i> Analytics & Reports
                        </h2>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="analytics-chart">
                                    <h5>Candidates by Role</h5>
                                    <canvas id="roleChart" width="300" height="200"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="analytics-chart">
                                    <h5>Vendor Performance</h5>
                                    <canvas id="vendorChart" width="300" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <div class="analytics-chart">
                                    <h5>Monthly Hiring Trends</h5>
                                    <canvas id="trendChart" width="600" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Vendors -->
                    <div id="vendors" class="section hidden">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="mb-0">
                                    <i class="fas fa-building"></i> Vendor Management
                                </h4>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Vendor Name</th>
                                                <th>Total Candidates</th>
                                                <th>Selected</th>
                                                <th>Success Rate</th>
                                                <th>Last Activity</th>
                                            </tr>
                                        </thead>
                                        <tbody id="vendorsTable">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Candidate Modal -->
    <div class="modal fade" id="editCandidateModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Candidate</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editCandidateForm">
                        <input type="hidden" id="editCandidateId">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Full Name</label>
                                <input type="text" id="editName" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" id="editNumber" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" id="editEmail" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Role</label>
                                <select id="editRole" class="form-select" required>
                                    <option value="Fitter">Fitter</option>
                                    <option value="Helper">Helper</option>
                                    <option value="Site Supervisor">Site Supervisor</option>
                                    <option value="Welder">Welder</option>
                                    <option value="Parking Operator">Parking Operator</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Current Salary (₹)</label>
                                <input type="number" id="editCurrentSalary" class="form-control" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Expected Salary (₹)</label>
                                <input type="number" id="editExpectedSalary" class="form-control" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Offered Salary (₹)</label>
                                <input type="number" id="editOfferedSalary" class="form-control">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Date of Selection</label>
                                <input type="date" id="editSelectionDate" class="form-control">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Date of Joining</label>
                                <input type="date" id="editJoiningDate" class="form-control">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="updateCandidate()">Update Candidate</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Global Variables
        let currentUser = null;
        let candidates = JSON.parse(localStorage.getItem('candidates') || '[]');
        let vendors = [
            { id: 'vendor1', name: 'TechCorp Solutions', password: 'password' },
            { id: 'vendor2', name: 'InfraBuild Ltd', password: 'password' },
            { id: 'vendor3', name: 'SkillForce Inc', password: 'password' }
        ];

        // Login System
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const userType = document.getElementById('userType').value;
            
            if (userType === 'admin' && username === 'admin' && password === 'admin123') {
                currentUser = { type: 'admin', name: 'Administrator' };
                showPortal('admin');
            } else if (userType === 'vendor') {
                const vendor = vendors.find(v => v.id === username && v.password === password);
                if (vendor) {
                    currentUser = { type: 'vendor', id: vendor.id, name: vendor.name };
                    document.getElementById('vendorName').textContent = vendor.name;
                    showPortal('vendor');
                } else {
                    alert('Invalid vendor credentials');
                }
            } else {
                alert('Invalid credentials');
            }
        });

        function showPortal(type) {
            document.getElementById('loginScreen').classList.add('hidden');
            if (type === 'admin') {
                document.getElementById('adminPortal').classList.remove('hidden');
                loadAdminDashboard();
            } else {
                document.getElementById('vendorPortal').classList.remove('hidden');
                loadVendorDashboard();
            }
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('adminPortal').classList.add('hidden');
            document.getElementById('vendorPortal').classList.add('hidden');
            document.getElementById('loginForm').reset();
        }

        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            document.getElementById(sectionId).classList.add('fade-in');
            
            // Update active nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load section specific data
            if (sectionId === 'allCandidates') {
                loadAllCandidates();
            } else if (sectionId === 'manageCandidates') {
                loadVendorCandidates();
            } else if (sectionId === 'analytics') {
                loadAnalytics();
            } else if (sectionId === 'vendors') {
                loadVendorsTable();
            }
        }

        // Candidate Management
        document.getElementById('candidateForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const candidate = {
                id: Date.now().toString(),
                vendorId: currentUser.id,
                vendorName: currentUser.name,
                name: formData.get('name'),
                number: formData.get('number'),
                email: formData.get('email'),
                role: formData.get('role'),
                currentSalary: parseInt(formData.get('currentSalary')),
                expectedSalary: parseInt(formData.get('expectedSalary')),
                offeredSalary: formData.get('offeredSalary') ? parseInt(formData.get('offeredSalary')) : null,
                totalExperience: parseFloat(formData.get('totalExperience')),
                relevantExperience: parseFloat(formData.get('relevantExperience')),
                resumeFile: formData.get('resume').name || null,
                interviewDate: formData.get('interviewDate') || null,
                selectionDate: formData.get('selectionDate') || null,
                joiningDate: formData.get('joiningDate') || null,
                status: getStatus(formData.get('selectionDate'), formData.get('joiningDate')),
                createdAt: new Date().toISOString()
            };
            
            candidates.push(candidate);
            localStorage.setItem('candidates', JSON.stringify(candidates));
            
            alert('Candidate added successfully!');
            this.reset();
            loadVendorDashboard();
        });

        function getStatus(selectionDate, joiningDate) {
            if (joiningDate) return 'Joined';
            if (selectionDate) return 'Selected';
            return 'Interview Pending';
        }

        function getRoleBadgeClass(role) {
            const roleMap = {
                'Fitter': 'role-fitter',
                'Helper': 'role-helper',
                'Site Supervisor': 'role-supervisor',
                'Welder': 'role-welder',
                'Parking Operator': 'role-parking'
            };
            return roleMap[role] || 'bg-secondary';
        }

        // Dashboard Functions
        function loadVendorDashboard() {
            const vendorCandidates = candidates.filter(c => c.vendorId === currentUser.id);
            const selectedCount = vendorCandidates.filter(c => c.status === 'Selected' || c.status === 'Joined').length;
            const pendingCount = vendorCandidates.filter(c => c.status === 'Interview Pending').length;
            
            document.getElementById('vendorTotalCandidates').textContent = vendorCandidates.length;
            document.getElementById('vendorSelectedCandidates').textContent = selectedCount;
            document.getElementById('vendorPendingCandidates').textContent = pendingCount;
        }

        function loadAdminDashboard() {
            const selectedCount = candidates.filter(c => c.status === 'Selected' || c.status === 'Joined').length;
            const pendingCount = candidates.filter(c => c.status === 'Interview Pending').length;
            const activeVendorsCount = new Set(candidates.map(c => c.vendorId)).size;
            
            document.getElementById('adminTotalCandidates').textContent = candidates.length;
            document.getElementById('adminSelectedCandidates').textContent = selectedCount;
            document.getElementById('adminActiveVendors').textContent = activeVendorsCount;
            document.getElementById('adminPendingInterviews').textContent = pendingCount;
            
            // Populate vendor filter
            const vendorFilter = document.getElementById('vendorFilter');
            vendorFilter.innerHTML = '<option value="">All Vendors</option>';
            const uniqueVendors = [...new Set(candidates.map(c => c.vendorName))];
            uniqueVendors.forEach(vendor => {
                vendorFilter.innerHTML += `<option value="${vendor}">${vendor}</option>`;
            });
        }

        function loadVendorCandidates() {
            const vendorCandidates = candidates.filter(c => c.vendorId === currentUser.id);
            const tableBody = document.getElementById('vendorCandidatesTable');
            
            tableBody.innerHTML = vendorCandidates.map(candidate => `
                <tr>
                    <td>${candidate.name}</td>
                    <td><span class="badge badge-role ${getRoleBadgeClass(candidate.role)}">${candidate.role}</span></td>
                    <td>${candidate.number}</td>
                    <td>${candidate.email}</td>
                    <td>₹${candidate.expectedSalary.toLocaleString()}</td>
                    <td><span class="badge ${getStatusBadgeClass(candidate.status)}">${candidate.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="editCandidate('${candidate.id}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-success" onclick="downloadCandidatePDF('${candidate.id}')">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="deleteCandidate('${candidate.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function loadAllCandidates() {
            const tableBody = document.getElementById('adminCandidatesTable');
            let filteredCandidates = candidates;
            
            // Apply filters
            const vendorFilter = document.getElementById('vendorFilter').value;
            const roleFilter = document.getElementById('roleFilter').value;
            
            if (vendorFilter) {
                filteredCandidates = filteredCandidates.filter(c => c.vendorName === vendorFilter);
            }
            if (roleFilter) {
                filteredCandidates = filteredCandidates.filter(c => c.role === roleFilter);
            }
            
            tableBody.innerHTML = filteredCandidates.map(candidate => `
                <tr>
                    <td>${candidate.name}</td>
                    <td><span class="badge bg-info">${candidate.vendorName}</span></td>
                    <td><span class="badge badge-role ${getRoleBadgeClass(candidate.role)}">${candidate.role}</span></td>
                    <td>${candidate.number}</td>
                    <td>₹${candidate.expectedSalary.toLocaleString()}</td>
                    <td>${candidate.totalExperience}Y / ${candidate.relevantExperience}Y</td>
                    <td><span class="badge ${getStatusBadgeClass(candidate.status)}">${candidate.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-success" onclick="downloadCandidatePDF('${candidate.id}')">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="btn btn-sm btn-primary" onclick="viewCandidate('${candidate.id}')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function getStatusBadgeClass(status) {
            const statusMap = {
                'Joined': 'bg-success',
                'Selected': 'bg-warning',
                'Interview Pending': 'bg-secondary'
            };
            return statusMap[status] || 'bg-secondary';
        }

        // CRUD Operations
        function editCandidate(candidateId) {
            const candidate = candidates.find(c => c.id === candidateId);
            if (!candidate) return;
            
            // Populate edit form
            document.getElementById('editCandidateId').value = candidate.id;
            document.getElementById('editName').value = candidate.name;
            document.getElementById('editNumber').value = candidate.number;
            document.getElementById('editEmail').value = candidate.email;
            document.getElementById('editRole').value = candidate.role;
            document.getElementById('editCurrentSalary').value = candidate.currentSalary;
            document.getElementById('editExpectedSalary').value = candidate.expectedSalary;
            document.getElementById('editOfferedSalary').value = candidate.offeredSalary || '';
            document.getElementById('editSelectionDate').value = candidate.selectionDate || '';
            document.getElementById('editJoiningDate').value = candidate.joiningDate || '';
            
            // Show modal
            new bootstrap.Modal(document.getElementById('editCandidateModal')).show();
        }

        function updateCandidate() {
            const candidateId = document.getElementById('editCandidateId').value;
            const candidateIndex = candidates.findIndex(c => c.id === candidateId);
            
            if (candidateIndex === -1) return;
            
            // Update candidate data
            candidates[candidateIndex] = {
                ...candidates[candidateIndex],
                name: document.getElementById('editName').value,
                number: document.getElementById('editNumber').value,
                email: document.getElementById('editEmail').value,
                role: document.getElementById('editRole').value,
                currentSalary: parseInt(document.getElementById('editCurrentSalary').value),
                expectedSalary: parseInt(document.getElementById('editExpectedSalary').value),
                offeredSalary: document.getElementById('editOfferedSalary').value ? parseInt(document.getElementById('editOfferedSalary').value) : null,
                selectionDate: document.getElementById('editSelectionDate').value || null,
                joiningDate: document.getElementById('editJoiningDate').value || null,
                status: getStatus(document.getElementById('editSelectionDate').value, document.getElementById('editJoiningDate').value)
            };
            
            localStorage.setItem('candidates', JSON.stringify(candidates));
            
            // Close modal and refresh data
            bootstrap.Modal.getInstance(document.getElementById('editCandidateModal')).hide();
            loadVendorCandidates();
            loadVendorDashboard();
            
            alert('Candidate updated successfully!');
        }

        function deleteCandidate(candidateId) {
            if (confirm('Are you sure you want to delete this candidate?')) {
                candidates = candidates.filter(c => c.id !== candidateId);
                localStorage.setItem('candidates', JSON.stringify(candidates));
                loadVendorCandidates();
                loadVendorDashboard();
                alert('Candidate deleted successfully!');
            }
        }

        // PDF Generation
        function downloadCandidatePDF(candidateId) {
            const candidate = candidates.find(c => c.id === candidateId);
            if (!candidate) return;
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Header
            doc.setFontSize(20);
            doc.setTextColor(44, 62, 80);
            doc.text('Trivanta Candidate Manager', 20, 30);
            doc.setFontSize(16);
            doc.text('Candidate Profile', 20, 45);
            
            // Candidate Details Table
            const tableData = [
                ['Field', 'Value'],
                ['Full Name', candidate.name],
                ['Phone Number', candidate.number],
                ['Email', candidate.email],
                ['Role', candidate.role],
                ['Current Salary', `₹${candidate.currentSalary.toLocaleString()}`],
                ['Expected Salary', `₹${candidate.expectedSalary.toLocaleString()}`],
                ['Offered Salary', candidate.offeredSalary ? `₹${candidate.offeredSalary.toLocaleString()}` : 'Not Set'],
                ['Total Experience', `${candidate.totalExperience} Years`],
                ['Relevant Experience', `${candidate.relevantExperience} Years`],
                ['Interview Date', candidate.interviewDate || 'Not Scheduled'],
                ['Selection Date', candidate.selectionDate || 'Not Selected'],
                ['Joining Date', candidate.joiningDate || 'Not Joined'],
                ['Status', candidate.status],
                ['Vendor Name', candidate.vendorName],
                ['Resume Attached', candidate.resumeFile || 'No']
            ];
            
            doc.autoTable({
                head: [tableData[0]],
                body: tableData.slice(1),
                startY: 60,
                styles: {
                    fontSize: 10,
                    cellPadding: 5
                },
                headStyles: {
                    fillColor: [44, 62, 80],
                    textColor: 255
                },
                alternateRowStyles: {
                    fillColor: [248, 249, 250]
                }
            });
            
            // Footer
            const pageHeight = doc.internal.pageSize.height;
            doc.setFontSize(8);
            doc.setTextColor(128, 128, 128);
            doc.text('Generated by Trivanta Candidate Manager', 20, pageHeight - 10);
            doc.text(`Generated on: ${new Date().toLocaleDateString()}`, 20, pageHeight - 5);
            
            // Download
            doc.save(`${candidate.name}_Profile.pdf`);
        }

        // Analytics
        function loadAnalytics() {
            setTimeout(() => {
                drawRoleChart();
                drawVendorChart();
                drawTrendChart();
            }, 100);
        }

        function drawRoleChart() {
            const canvas = document.getElementById('roleChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Data
            const roles = ['Fitter', 'Helper', 'Site Supervisor', 'Welder', 'Parking Operator'];
            const roleCounts = roles.map(role => candidates.filter(c => c.role === role).length);
            const colors = ['#3498db', '#27ae60', '#e74c3c', '#f39c12', '#9b59b6'];
            
            // Draw pie chart
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;
            let currentAngle = 0;
            const total = roleCounts.reduce((a, b) => a + b, 0);
            
            roleCounts.forEach((count, index) => {
                const sliceAngle = (count / total) * 2 * Math.PI;
                
                // Draw slice
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.closePath();
                ctx.fillStyle = colors[index];
                ctx.fill();
                
                // Draw label
                const labelAngle = currentAngle + sliceAngle / 2;
                const labelX = centerX + Math.cos(labelAngle) * (radius + 20);
                const labelY = centerY + Math.sin(labelAngle) * (radius + 20);
                
                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`${roles[index]}: ${count}`, labelX, labelY);
                
                currentAngle += sliceAngle;
            });
        }

        function drawVendorChart() {
            const canvas = document.getElementById('vendorChart');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Data
            const vendorStats = vendors.map(vendor => {
                const vendorCandidates = candidates.filter(c => c.vendorId === vendor.id);
                const selected = vendorCandidates.filter(c => c.status === 'Selected' || c.status === 'Joined').length;
                return {
                    name: vendor.name.split(' ')[0], // Short name
                    total: vendorCandidates.length,
                    selected: selected
                };
            });
            
            // Draw bar chart
            const barWidth = 40;
            const barSpacing = 60;
            const startX = 50;
            const maxHeight = 120;
            const maxValue = Math.max(...vendorStats.map(v => v.total));
            
            vendorStats.forEach((vendor, index) => {
                const x = startX + index * (barWidth + barSpacing);
                const totalHeight = (vendor.total / maxValue) * maxHeight;
                const selectedHeight = (vendor.selected / maxValue) * maxHeight;
                
                // Draw total bar
                ctx.fillStyle = '#3498db';
                ctx.fillRect(x, canvas.height - 40 - totalHeight, barWidth, totalHeight);
                
                // Draw selected bar
                ctx.fillStyle = '#27ae60';
                ctx.fillRect(x, canvas.height - 40 - selectedHeight, barWidth, selectedHeight);
                
                // Draw labels
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(vendor.name, x + barWidth/2, canvas.height - 20);
                ctx.fillText(vendor.total.toString(), x + barWidth/2, canvas.height - 45 - totalHeight);
            });
            
            // Legend
            ctx.fillStyle = '#3498db';
            ctx.fillRect(20, 20, 15, 15);
            ctx.fillStyle = '#000';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Total', 40, 32);
            
            ctx.fillStyle = '#27ae60';
            ctx.fillRect(20, 40, 15, 15);
            ctx.fillStyle = '#000';
            ctx.fillText('Selected', 40, 52);
        }

        function drawTrendChart() {
            const canvas = document.getElementById('trendChart');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Generate monthly data for last 6 months
            const months = [];
            const monthlyData = [];
            
            for (let i = 5; i >= 0; i--) {
                const date = new Date();
                date.setMonth(date.getMonth() - i);
                months.push(date.toLocaleDateString('en-US', { month: 'short' }));
                
                // Simulate data based on existing candidates
                const count = Math.floor(Math.random() * 20) + candidates.length / 6;
                monthlyData.push(count);
            }
            
            // Draw line chart
            const padding = 50;
            const chartWidth = canvas.width - 2 * padding;
            const chartHeight = canvas.height - 2 * padding;
            const maxValue = Math.max(...monthlyData);
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw line
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            monthlyData.forEach((value, index) => {
                const x = padding + (index / (monthlyData.length - 1)) * chartWidth;
                const y = canvas.height - padding - (value / maxValue) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // Draw points
                ctx.fillStyle = '#3498db';
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, 2 * Math.PI);
                ctx.fill();
                
                // Draw labels
                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(months[index], x, canvas.height - padding + 20);
                ctx.fillText(value.toString(), x, y - 10);
            });
            
            ctx.strokeStyle = '#3498db';
            ctx.stroke();
        }

        function loadVendorsTable() {
            const tableBody = document.getElementById('vendorsTable');
            
            const vendorStats = vendors.map(vendor => {
                const vendorCandidates = candidates.filter(c => c.vendorId === vendor.id);
                const selected = vendorCandidates.filter(c => c.status === 'Selected' || c.status === 'Joined').length;
                const successRate = vendorCandidates.length > 0 ? ((selected / vendorCandidates.length) * 100).toFixed(1) : '0';
                const lastActivity = vendorCandidates.length > 0 ? 
                    new Date(Math.max(...vendorCandidates.map(c => new Date(c.createdAt)))).toLocaleDateString() : 
                    'Never';
                
                return {
                    ...vendor,
                    total: vendorCandidates.length,
                    selected: selected,
                    successRate: successRate,
                    lastActivity: lastActivity
                };
            });
            
            tableBody.innerHTML = vendorStats.map(vendor => `
                <tr>
                    <td><strong>${vendor.name}</strong></td>
                    <td><span class="badge bg-primary">${vendor.total}</span></td>
                    <td><span class="badge bg-success">${vendor.selected}</span></td>
                    <td>
                        <div class="progress" style="height: 20px;">
                            <div class="progress-bar" role="progressbar" style="width: ${vendor.successRate}%">
                                ${vendor.successRate}%
                            </div>
                        </div>
                    </td>
                    <td>${vendor.lastActivity}</td>
                </tr>
            `).join('');
        }

        // Filter Events
        document.getElementById('vendorFilter').addEventListener('change', loadAllCandidates);
        document.getElementById('roleFilter').addEventListener('change', loadAllCandidates);

        // Initialize with sample data if empty
        if (candidates.length === 0) {
            const sampleCandidates = [
                {
                    id: '1',
                    vendorId: 'vendor1',
                    vendorName: 'TechCorp Solutions',
                    name: 'Rajesh Kumar',
                    number: '+91 98765 43210',
                    email: 'rajesh.kumar@email.com',
                    role: 'Welder',
                    currentSalary: 25000,
                    expectedSalary: 30000,
                    offeredSalary: 28000,
                    totalExperience: 5.5,
                    relevantExperience: 4.0,
                    resumeFile: 'rajesh_resume.pdf',
                    interviewDate: '2024-10-15',
                    selectionDate: '2024-10-20',
                    joiningDate: null,
                    status: 'Selected',
                    createdAt: '2024-10-01T10:00:00Z'
                },
                {
                    id: '2',
                    vendorId: 'vendor2',
                    vendorName: 'InfraBuild Ltd',
                    name: 'Priya Sharma',
                    number: '+91 87654 32109',
                    email: 'priya.sharma@email.com',
                    role: 'Site Supervisor',
                    currentSalary: 45000,
                    expectedSalary: 55000,
                    offeredSalary: null,
                    totalExperience: 8.0,
                    relevantExperience: 6.5,
                    resumeFile: 'priya_resume.pdf',
                    interviewDate: '2024-10-18',
                    selectionDate: null,
                    joiningDate: null,
                    status: 'Interview Pending',
                    createdAt: '2024-09-28T14:30:00Z'
                },
                {
                    id: '3',
                    vendorId: 'vendor1',
                    vendorName: 'TechCorp Solutions',
                    name: 'Amit Singh',
                    number: '+91 76543 21098',
                    email: 'amit.singh@email.com',
                    role: 'Fitter',
                    currentSalary: 22000,
                    expectedSalary: 28000,
                    offeredSalary: 26000,
                    totalExperience: 3.5,
                    relevantExperience: 3.0,
                    resumeFile: 'amit_resume.pdf',
                    interviewDate: '2024-10-12',
                    selectionDate: '2024-10-16',
                    joiningDate: '2024-10-25',
                    status: 'Joined',
                    createdAt: '2024-09-25T09:15:00Z'
                }
            ];
            
            candidates = sampleCandidates;
            localStorage.setItem('candidates', JSON.stringify(candidates));
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Show login screen by default
            console.log('Trivanta Candidate Manager Initialized');
        });
    </script>
</body>
</html>
